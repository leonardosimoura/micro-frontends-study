(self.webpackChunkhost_0_0_0=self.webpackChunkhost_0_0_0||[]).push([[434],{2753:(e,t,n)=>{"use strict";n.r(t);var a=n(3579),r=n.n(a),i=n(201),o=n.n(i),l=n(6010),s=n(1120),c=n(5834),m=n(8863),d=n(5258),u=n(8358),p=n(2822),h=n(2318),g=n(5517),E=n(7812),f=n(9009),w=n(3832),y=n(9895),v=n(8884),Z=n(9875),S=n(8825),b=n(7675);const x={receive:new b.Subject,send:new b.Subject};x.receive.subscribe((e=>{console.log("HOST - Send",e)})),x.send.subscribe((e=>{console.log("HOST - Receive",e)}));const N=x;var k=n(8127),B=n(282),C=n(8991),H=n.n(C),_=n(998),I=n(6869),P=n(5757),j=n(442);function D(e){console.log(e);const t=e.app;return r().createElement(_.Z,{button:!0,key:t.id+"-"+t.version,onClick:()=>{const n={url:t.source,scope:t.id+"_"+t.version.split(".").join("_"),module:"./"+t.name};e.fn(n)}},r().createElement(I.Z,null,r().createElement(j.Z,null)),r().createElement(P.Z,{primary:t.id+"-"+t.version}))}const L=(0,s.Z)((e=>({root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",...e.mixins.toolbar},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - 240px)",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)}},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"42%"}})));function R(e){const{ready:t,failed:a}=(e=>{const[t,n]=r().useState(!1),[a,i]=r().useState(!1);return r().useEffect((()=>{if(!e.url)return;const t=document.createElement("script");return t.src=e.url,t.type="text/javascript",t.async=!0,n(!1),i(!1),t.onload=()=>{console.log(`Dynamic Script Loaded: ${e.url}`),n(!0)},t.onerror=()=>{console.error(`Dynamic Script Error: ${e.url}`),n(!1),i(!0)},document.head.appendChild(t),()=>{console.log(`Dynamic Script Removed: ${e.url}`),document.head.removeChild(t)}}),[e.url]),{ready:t,failed:a}})({url:e.system&&e.system.url});if(!e.system)return r().createElement("h2",null,"Please select one app");if(!t)return r().createElement("h2",null,"Loading dynamic script: ",e.system.url);if(a)return r().createElement("h2",null,"Failed to load dynamic script: ",e.system.url);const i=r().lazy((o=e.system.scope,l=e.system.module,async()=>{await n.I("default");const e=window[o];return await e.init(n.S.default),(await window[o].get(l))()}));var o,l;return r().createElement(r().Suspense,{fallback:"Loading System"},r().createElement(i,{serviceComunication:N}))}const T=()=>{N.send.subscribe((n=>{t([...e,n])}));const[e,t]=r().useState([]);return r().createElement(r().Fragment,null,r().createElement("h1",null,"Notifications"),r().createElement(B.Z,{onClick:function(){N.receive.next({id:(0,k.nanoid)(),app:"App1",title:"New Notification From Host",data:{}})},variant:"contained",color:"primary"},"New Notification To App"),r().createElement("ul",null,e.map((e=>r().createElement("li",{key:e.id},e.id," - ",e.app," - ",e.title)))))};function z(){const e=L(),[t,n]=r().useState(!1),[a,i]=r().useState([]);r().useEffect((()=>{o()}),[]);const o=()=>{0==a.length&&H().get("https://localhost:5001/api/Module/host").then((function(e){i(e.data.applications)})).catch((function(e){console.error(e)}))},s=(0,l.Z)(e.paper,e.fixedHeight),[b,x]=r().useState(void 0);return r().createElement("div",{className:e.root},r().createElement(c.ZP,null),r().createElement(d.Z,{position:"absolute",className:(0,l.Z)(e.appBar,t&&e.appBarShift)},r().createElement(u.Z,{className:e.toolbar},r().createElement(E.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:()=>{n(!0)},className:(0,l.Z)(e.menuButton,t&&e.menuButtonHidden)},r().createElement(v.Z,null)),r().createElement(h.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Host"),r().createElement(E.Z,{color:"inherit"},r().createElement(f.Z,{color:"secondary"},r().createElement(S.Z,null))))),r().createElement(m.ZP,{variant:"permanent",classes:{paper:(0,l.Z)(e.drawerPaper,!1)},open:!0},r().createElement("div",{className:e.toolbarIcon},r().createElement(E.Z,{onClick:()=>{n(!1)}},r().createElement(Z.Z,null))),r().createElement(g.Z,null),r().createElement(p.Z,null,a.map((e=>r().createElement(D,{key:e.id,app:e,fn:x}))))),r().createElement("main",{className:e.content},r().createElement("div",{className:e.appBarSpacer}),r().createElement(w.Z,{maxWidth:"lg",className:e.container},r().createElement(y.Z,{className:s},r().createElement(R,{system:b})),r().createElement("hr",null),r().createElement(y.Z,{className:s},r().createElement(T,null)))))}o().render(r().createElement(z,null),document.getElementById("root"))}}]);